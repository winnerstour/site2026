<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Cache-Control" content="no-store, must-revalidate, max-age=0" />
  <title>WinnersTour ‚Äî Lazer e F√©rias</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
  
  <!-- Mesmo CSS base do index -->
  <style>
/* VARI√ÅVEIS DE COR E ESTILO */
:root{
  --brand:#f97316; 
  --brand-shadow:#C2410C; 
  --wa:#25D366; 
  --wa-hover:#1AC656; 
  --wa-ring:#128C7E; 
  --text-charcoal:#111827; 
  --muted:#6b7280;
  --bg:#fff;
  --card:#fff;
  --shadow-base:0 2px 5px rgba(2,8,23,.05); 
  --shadow-hover:0 4px 10px rgba(2,8,23,.10);
  --card-hover-bg:#f5f5f5; 
  --radius:18px;
  --wrap:1280px; 
  
  /* Cores de Categoria (Mantidas) */
  --color-rose-600: #e11d48;
  --color-teal-600: #0d9488;
  --color-indigo-600: #4f46e5;
  --color-emerald-600: #059669;
  --color-zinc-700: #475569;
  --color-amber-600: #fbbf24;
  --color-blue-700: #1d4ed8;
  --color-gray-700: #4b5563; 
  --color-purple-700: #6d28d9;
  --color-neutral-700: #4b5563;
  --color-slate-700: #334155;
  --color-blue-600: #2563eb;
  --color-stone-700: #44403c;
  --color-cyan-700: #0e7490;
  --color-pink-600: #db2777;
  --color-blue-800: #1e40af;
  
  /* CORES DA SIDEBAR */
  --sidebar-bg-color: #f0f4f9;
  --sidebar-text-color: var(--text-charcoal); 
  --sidebar-muted-text-color: var(--muted);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;min-height: 100vh;}

/* APLICA√á√ÉO DA FONTE MONTSERRAT */
body{
  font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-size:16px;
  line-height:1.5;
  color:var(--text-charcoal);
  background:var(--bg);
  overflow-x: hidden;
}
img{max-width:100%;display:block}
a{text-decoration:none;color:inherit}

/* === LAYOUT MOBILE SUPERIOR (HEADER) === */
#mobile-header {
  display: none; 
  background: var(--bg);
  padding: 10px 16px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  align-items: center;
  justify-content: space-between;
  height: 56px;
  position: static;
  z-index: 1000;
}
#mobile-header .logo {
  font-weight: 900;
  font-size: 1.1rem; 
  color: var(--brand);
}
.mobile-header-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}
.mobile-icon-btn {
  border: none;
  background: transparent;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.mobile-icon-btn .icon {
  font-size: 1.3rem;
  line-height: 1;
}

/* √çCONE WHATSAPP 22px (header + menu mobile + sidebar) */
.mobile-icon-btn .whatsapp-icon,
#mobile-menu .whatsapp-icon,
.cta-link-sidebar .whatsapp-icon {
  width: 22px;
  height: 22px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
#mobile-menu .whatsapp-icon { margin-right: 0; }
.cta-link-sidebar .whatsapp-icon { margin-right: 10px; }

.mobile-icon-btn .whatsapp-icon img,
#mobile-menu .whatsapp-icon img,
.cta-link-sidebar .whatsapp-icon img {
  width: 22px;
  height: 22px;
  object-fit: contain;
}

#mobile-header .menu-icon {
  font-size: 2rem;
  cursor: pointer;
  color: var(--text-charcoal);
  border: none;
  background: transparent;
  padding: 4px;
  line-height: 1;
}

/* MENU MOBILE (ABRE AO CLICAR NO HAMB√öRGUER) */
#mobile-menu {
  display: none;
}
#mobile-menu.open {
  display: block;
}
#mobile-menu {
  background: var(--bg);
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}
#mobile-menu a {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  font-size: 0.95rem;
  font-weight: 600;
  border-top: 1px solid rgba(0,0,0,0.04);
}
#mobile-menu .icon {
  font-size: 1.2rem;
  width: 20px;
  text-align: center;
  line-height: 1;
}

/* LAYOUT PRINCIPAL DO GRID */
#main-grid {
  display: grid;
  grid-template-columns: 250px 1fr; 
  min-height: 100vh;
  margin: 0 auto; 
}

/* SIDEBAR FIXA (Esquerda) */
#main-sidebar {
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  padding: 30px 20px 30px 20px; 
  background: var(--sidebar-bg-color); 
  border-right: 1px solid rgba(0, 0, 0, 0.1); 
  color: var(--sidebar-text-color);
}
.agency-info {
  max-width: 100%; 
}
.agency-info h1 {
  font-weight: 900;
  font-size: 1.5rem; 
  margin-bottom: 5px;
  line-height: 1.1;
  color: var(--brand);
}
.agency-info p {
  font-size: 14px;
  color: var(--sidebar-muted-text-color); 
  line-height: 1.4;
  margin-bottom: 20px;
}

/* CTAS NA SIDEBAR */
.whatsapp-cta {
  margin-top: 30px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.cta-link-sidebar {
  display: flex;
  align-items: center;
  font-size: 1rem;
  font-weight: 700;
  color: var(--sidebar-text-color); 
  transition: all 0.2s ease;
  text-decoration: none;
  padding: 2px 0;
}
.cta-link-sidebar:hover {
  color: var(--brand); 
  transform: translateX(3px); 
}
.cta-link-sidebar .icon {
  font-size: 1.2rem;
  width: 20px;
  text-align: center;
  margin-right: 10px;
  line-height: 1;
}

/* CONTE√öDO PRINCIPAL */
#main-content {
  padding: 20px 20px 20px 20px; 
}

/* ABAS DE CATEGORIA (Topo do Conte√∫do Principal) */
#category-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-bottom: 30px;
  padding: 0;
}
.tab-link {
  font-weight: 700;
  color: var(--muted);
  padding-bottom: 5px;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 1rem;
}
.tab-link.active {
  color: var(--text-charcoal);
  border-bottom-color: var(--brand);
}

/* GRID DE CARDS */
#events-grid { 
  display: grid;
  gap: 20px;
  padding: 0; 
  grid-template-columns: repeat(4, 1fr);
}

/* CARD */
.event-card {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow-base);
  overflow: hidden;
  transition: all .2s ease;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  border: 1px solid rgba(0, 0, 0, 0.05);
  height: 100%;
}
.event-card:hover{
  box-shadow:var(--shadow-hover);
  background: var(--card-hover-bg); 
}
.card-media {
  height: 140px; 
  background: #fff; 
  overflow: hidden;
  flex-shrink: 0;
}
.card-media img {
  width: 100%;
  height: 100%;
  object-fit: cover; 
}
.card-content {
  padding: 15px;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}
.card-title {
  font-weight: 900 !important;
  font-size: 1rem;
  line-height: 1.3;
  margin-bottom: 5px;
  color: var(--text-charcoal) !important;
  text-transform: uppercase; 
}
.card-subtitle {
  font-size: 14px;
  color: var(--muted);
}

/* RESPONSIVIDADE */
@media (max-width: 1024px) {
  body{
    padding-top:56px;
  }
  #mobile-header {
    display: flex; 
    position: fixed;
    top:0;
    left:0;
    right:0;
  }
  #mobile-menu {
    position: fixed;
    top:56px;
    left:0;
    right:0;
    z-index: 999;
  }
  #main-grid {
    grid-template-columns: 1fr; 
    min-height: auto;
  }
  #main-sidebar {
    display: none; 
    position: static;
    height: auto;
    padding: 20px;
    border-right: none;
    background: var(--bg);
  }
  #main-content {
    padding: 20px;
  }
  #events-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (max-width: 640px) {
  #events-grid {
    grid-template-columns: repeat(1, 1fr);
  }
}
  </style>
</head>
<body>

<!-- CABE√áALHO MOBILE FIXO -->
<div id="mobile-header">
  <span class="logo">WINNERS TOUR</span>
  <div class="mobile-header-actions">
    <!-- Bot√£o WhatsApp -->
    <a href="https://wa.me/5541999450111?text=Ol%C3%A1!%20Gostaria%20de%20falar%20sobre%20pacotes%20para%20eventos." 
       class="mobile-icon-btn" aria-label="Fale conosco pelo WhatsApp">
      <span class="whatsapp-icon">
        <img src="assets/misc/WhatsApp.svg.webp" alt="WhatsApp">
      </span>
    </a>
    <!-- Bot√£o Loja Virtual -->
    <a href="https://www.comprarviagem.com.br/winnerstour/" 
       class="mobile-icon-btn" aria-label="Loja virtual Winnerstour">
      <span class="icon">üõí</span>
    </a>
    <!-- Bot√£o Menu Hamb√∫rguer -->
    <button id="mobile-menu-toggle" class="menu-icon" aria-label="Abrir menu de navega√ß√£o">
      ‚ò∞
    </button>
  </div>
</div>

<!-- MENU MOBILE -->
<nav id="mobile-menu" aria-label="Menu de navega√ß√£o mobile">
  <a href="https://wa.me/5541999450111?text=Ol%C3%A1!%20Gostaria%20de%20falar%20sobre%20pacotes%20para%20eventos.">
    <span class="whatsapp-icon">
      <img src="assets/misc/WhatsApp.svg.webp" alt="WhatsApp">
    </span>
    <span>WhatsApp</span>
  </a>
  <a href="https://www.comprarviagem.com.br/winnerstour/">
    <span class="icon">üõí</span>
    <span>Loja Virtual</span>
  </a>
  <a href="index.html">
    <span class="icon">üóìÔ∏è</span>
    <span>Eventos</span>
  </a>
  <a href="apps.html">
    <span class="icon">‚öôÔ∏è</span>
    <span>Aplicativos</span>
  </a>
  <a href="lazer.html">
    <span class="icon">üèñÔ∏è</span>
    <span>Lazer</span>
  </a>
  <a href="corporativo.html">
    <span class="icon">üíº</span>
    <span>Corporativo</span>
  </a>
</nav>

<div id="main-grid">
  
  <!-- SIDEBAR -->
  <div id="main-sidebar">
    <div class="agency-info">
      <h1>WINNERS TOUR</h1>
      <p>
        Desde 2003, organizamos viagens para empresas, equipes e profissionais que participam de feiras, congressos e reuni√µes de neg√≥cios, al√©m de pacotes de lazer e viagens pessoais. Precisa de suporte para planejar sua viagem, tirar d√∫vidas ou receber um or√ßamento completo? Fale conosco pelo WhatsApp ou use as op√ß√µes abaixo.
      </p>
      
      <div class="whatsapp-cta">
        <a href="https://wa.me/5541999450111?text=Ol%C3%A1!%20Gostaria%20de%20falar%20sobre%20pacotes%20para%20eventos." target="_blank" class="cta-link-sidebar" aria-label="Fale conosco pelo WhatsApp">
          <span class="whatsapp-icon"><img src="assets/misc/WhatsApp.svg.webp" alt="Logo WhatsApp"></span> WHATSAPP
        </a>

        <a href="https://www.comprarviagem.com.br/winnerstour/" target="_blank" class="cta-link-sidebar" aria-label="Fazer or√ßamento na Loja Virtual.">
          <span class="icon">üõí</span> LOJA VIRTUAL
        </a>

        <a href="index.html" class="cta-link-sidebar" aria-label="Eventos e Feiras">
          <span class="icon">üóìÔ∏è</span> EVENTOS
        </a>
        
        <a href="apps.html" class="cta-link-sidebar" aria-label="Ver aplicativos recomendados.">
          <span class="icon">‚öôÔ∏è</span> APLICATIVOS
        </a>
        
        <a href="lazer.html" class="cta-link-sidebar" aria-label="Ver pacotes de viagens de lazer.">
          <span class="icon">üèñÔ∏è</span> LAZER
        </a>
        
        <a href="corporativo.html" class="cta-link-sidebar" aria-label="Artigos e Solu√ß√µes Corporativas">
          <span class="icon">üíº</span> CORPORATIVO
        </a>
      </div>
    </div>
  </div>
  
  <!-- CONTE√öDO PRINCIPAL -->
  <div id="main-content">
    
    <!-- Abas de categoria (macro) -->
    <div id="category-tabs"></div>
    
    <!-- Grid de pacotes de lazer -->
    <div id="events-grid">
      <div class="event-card">
        <div class="card-content">
          <p class="card-title">Carregando pacotes de lazer...</p>
          <p class="card-subtitle">Aguarde um instante.</p>
        </div>
      </div>
    </div>
    
  </div>
</div>

<script>
  // MENU MOBILE (mesma l√≥gica das outras p√°ginas)
  (function() {
    var toggle = document.getElementById('mobile-menu-toggle');
    var menu = document.getElementById('mobile-menu');
    if (toggle && menu) {
      toggle.addEventListener('click', function() {
        menu.classList.toggle('open');
      });
      var links = menu.querySelectorAll('a');
      links.forEach(function(link) {
        link.addEventListener('click', function() {
          menu.classList.remove('open');
        });
      });
    }
  })();
</script>

<script>
/*
  SUPOSI√á√ïES PARA O JSON DE LAZER (./lazer/index.json):

  [
    {
      "slug": "westin-porto-de-galinhas",
      "title": "Westin Porto de Galinhas ‚Äì All Inclusive",
      "subtitle": "Resort p√© na areia com servi√ßo all inclusive premium...",
      "category_macro": "Hot√©is",
      "card_image": "assets/lazer/westin-porto-de-galinhas.webp",
      "href": "lazer/westin-porto-de-galinhas.html"
    },
    ...
  ]

  Campos usados aqui:
  - title           (obrigat√≥rio)
  - subtitle        (obrigat√≥rio)
  - category_macro  (obrigat√≥rio para filtros)
  - slug            (opcional, usado como fallback para imagem)
  - card_image      (opcional; se n√£o tiver, cai no padr√£o assets/lazer/<slug>.webp)
  - href            (opcional; se n√£o tiver, o card vira um <div> sem link)

  Se voc√™ preferir outro nome de campo, depois a gente ajusta neste script.
*/

const LAZER_JSON_URL = './lazer/index.json'; // diret√≥rio de dados de lazer
const PRIMARY_MACRO = 'Hot√©is';              // macro que deve aparecer primeiro nas abas

function normalizarCategoriaMacro(valor) {
  if (!valor) return '';
  return valor
    .toString()
    .normalize('NFD')
    .replace(/[\u0300-\u036f]/g, '')
    .toLowerCase()
    .trim();
}

function sortMacros(macros) {
  const primaryNorm = normalizarCategoriaMacro(PRIMARY_MACRO);
  return macros.sort((a, b) => {
    const na = normalizarCategoriaMacro(a);
    const nb = normalizarCategoriaMacro(b);

    const isPrimaryA = na === primaryNorm;
    const isPrimaryB = nb === primaryNorm;

    if (isPrimaryA && !isPrimaryB) return -1;
    if (!isPrimaryA && isPrimaryB) return 1;

    return a.localeCompare(b, 'pt-BR');
  });
}

function createCard(item) {
  const title = item.title || 'Pacote sem t√≠tulo';
  const subtitle = item.subtitle || '';
  const slug = item.slug || '';
  const macro = item.category_macro || 'Outros';

  let src = item.card_image;
  if (!src) {
    if (slug) {
      // fallback: assets/lazer/<slug>.webp
      src = 'assets/lazer/' + slug + '.webp';
    } else {
      src = 'assets/lazer/placeholder.webp'; // voc√™ pode criar um placeholder
    }
  }

  const hasLink = !!item.href;
  const wrapperTag = hasLink ? 'a' : 'div';
  const card = document.createElement(wrapperTag);
  card.className = 'event-card';
  if (hasLink) {
    card.href = item.href;
    card.setAttribute('aria-label', title);
  }
  card.dataset.macro = macro;

  const media = document.createElement('div');
  media.className = 'card-media';
  const img = document.createElement('img');
  img.loading = 'lazy';
  img.src = src;
  img.alt = title;
  media.appendChild(img);

  const content = document.createElement('div');
  content.className = 'card-content';

  const t = document.createElement('p');
  t.className = 'card-title';
  t.textContent = title;

  const s = document.createElement('p');
  s.className = 'card-subtitle';
  s.textContent = subtitle;

  content.appendChild(t);
  content.appendChild(s);

  card.appendChild(media);
  card.appendChild(content);

  return card;
}

function renderLazer(data) {
  const tabsContainer = document.getElementById('category-tabs');
  const grid = document.getElementById('events-grid');
  if (!tabsContainer || !grid) return;

  grid.innerHTML = '';

  // Coletar macros
  const macrosSet = new Set();
  data.forEach(item => {
    const macro = item.category_macro || 'Outros';
    macrosSet.add(macro);
  });

  let macros = Array.from(macrosSet);
  macros = sortMacros(macros);

  // Criar aba "Todos"
  const allTab = document.createElement('span');
  allTab.className = 'tab-link active';
  allTab.textContent = 'Todos';
  allTab.dataset.macro = 'TODOS';
  tabsContainer.appendChild(allTab);

  // Criar abas por macro
  macros.forEach(macro => {
    const span = document.createElement('span');
    span.className = 'tab-link';
    span.textContent = macro;
    span.dataset.macro = macro;
    tabsContainer.appendChild(span);
  });

  // Render inicial (todos)
  data.forEach(item => {
    const card = createCard(item);
    grid.appendChild(card);
  });

  // Filtro por aba
  tabsContainer.addEventListener('click', (ev) => {
    const target = ev.target;
    if (!target.classList.contains('tab-link')) return;

    const macroSel = target.dataset.macro;

    // estado visual das abas
    tabsContainer.querySelectorAll('.tab-link').forEach(tab => {
      tab.classList.toggle('active', tab === target);
    });

    // filtro de cards
    const cards = grid.querySelectorAll('.event-card');
    cards.forEach(card => {
      if (macroSel === 'TODOS') {
        card.style.display = '';
      } else {
        const cm = card.dataset.macro || 'Outros';
        card.style.display = (cm === macroSel) ? '' : 'none';
      }
    });
  });
}

// Carregar JSON de lazer
fetch(LAZER_JSON_URL)
  .then(resp => {
    if (!resp.ok) throw new Error('Erro ao carregar ' + LAZER_JSON_URL);
    return resp.json();
  })
  .then(json => {
    if (!Array.isArray(json)) {
      console.error('JSON de lazer n√£o √© um array', json);
      return;
    }
    renderLazer(json);
  })
  .catch(err => {
    console.error(err);
    const grid = document.getElementById('events-grid');
    if (grid) {
      grid.innerHTML = '';
      const fallback = document.createElement('div');
      fallback.className = 'event-card';
      const content = document.createElement('div');
      content.className = 'card-content';
      const t = document.createElement('p');
      t.className = 'card-title';
      t.textContent = 'N√£o foi poss√≠vel carregar os pacotes de lazer.';
      const s = document.createElement('p');
      s.className = 'card-subtitle';
      s.textContent = 'Verifique se o arquivo lazer/index.json existe e est√° em formato de array.';
      content.appendChild(t);
      content.appendChild(s);
      fallback.appendChild(content);
      grid.appendChild(fallback);
    }
  });
</script>

</body>
</html>
